{"ast":null,"code":"import React from'react';import{makeStyles}from'@material-ui/core/styles';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import JSONPretty from'react-json-pretty';import Fade from'@material-ui/core/Fade';import'./Json.css';import'./App.css';import XMLViewer from'react-xml-viewer';import Attributes from'./Attributes';var useStyles=makeStyles({root:{//width: '100%',\n//maxWidth: 600,\n},table:{minWidth:650,paddingTop:0},attributes:{minWidth:300,maxWidth:500}});function Data(props){var data=props.item.data;var data_base64=null;if(\"data_base64\"in props.item){data_base64=props.item[\"data_base64\"];}if(data_base64!==null){try{data=atob(data_base64);}catch(err){console.error(err);data=data_base64;}}var mediaType=\"unknown\";if(\"datacontenttype\"in props.item){mediaType=props.item[\"datacontenttype\"];}if(mediaType.startsWith(\"application/json\")||mediaType.startsWith(\"text/json\")){var src=JSON.parse(data);return/*#__PURE__*/React.createElement(JSONPretty,{data:src});}if(mediaType.startsWith(\"application/xml\")||mediaType.startsWith(\"text/xml\")){if(data.startsWith(\"\\\"\")){// Data was part of a JSON string, parse it.\ndata=JSON.parse(data);}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(XMLViewer,{xml:data}));}return/*#__PURE__*/React.createElement(\"pre\",null,data);}export default function BasicTable(props){var classes=useStyles();var rows=props.items;var filter=props.filter;function evalFilter(event){for(var i=0;i<filter.length;++i){if(filter[i].attr in event){switch(filter[i].match){case\"Exact\":if(event[filter[i].attr]!==filter[i].value){return false;}break;case\"Includes\":if(!event[filter[i].attr].includes(filter[i].value)){return false;}break;case\"Prefix\":if(!event[filter[i].attr].startsWith(filter[i].value)){return false;}break;case\"Suffix\":if(!event[filter[i].attr].endsWith(filter[i].value)){return false;}break;default:break;}}else{return false;}}return true;}return/*#__PURE__*/React.createElement(React.Fragment,null,filter.map(function(f){return/*#__PURE__*/React.createElement(Fade,{in:true},/*#__PURE__*/React.createElement(\"p\",null,f.attr,\" [\",f.match,\"] \",f.value));}),/*#__PURE__*/React.createElement(TableContainer,{component:Paper},/*#__PURE__*/React.createElement(Table,{className:classes.table},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"Attributes\"),/*#__PURE__*/React.createElement(TableCell,null,\"Data\"))),/*#__PURE__*/React.createElement(TableBody,null,rows.filter(evalFilter).map(function(row){return/*#__PURE__*/React.createElement(Fade,{in:true,mountOnEnter:true,appear:true,timeout:300},/*#__PURE__*/React.createElement(TableRow,{hover:true,key:row.id},/*#__PURE__*/React.createElement(TableCell,{component:\"th\",scope:\"row\",className:classes.attributes},/*#__PURE__*/React.createElement(Attributes,{item:row})),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Data,{item:row}))));})))));}","map":{"version":3,"sources":["/Users/jeffreynaef/go/src/github.com/n3wscott/sockeye/frontend/src/Table.js"],"names":["React","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","JSONPretty","Fade","XMLViewer","Attributes","useStyles","root","table","minWidth","paddingTop","attributes","maxWidth","Data","props","data","item","data_base64","atob","err","console","error","mediaType","startsWith","src","JSON","parse","BasicTable","classes","rows","items","filter","evalFilter","event","i","length","attr","match","value","includes","endsWith","map","f","row","id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport JSONPretty from 'react-json-pretty';\nimport Fade from '@material-ui/core/Fade';\nimport './Json.css';\n\n\nimport './App.css';\n\nimport XMLViewer from 'react-xml-viewer'\n\nimport Attributes from './Attributes';\n\nconst useStyles = makeStyles({\n  root: {\n    //width: '100%',\n    //maxWidth: 600,\n  },\n  table: {\n    minWidth: 650,\n    paddingTop: 0,\n  },\n  attributes: {\n    minWidth: 300,\n    maxWidth: 500,\n  },\n});\n\nfunction Data(props) {\n  let data = props.item.data;\n\n  let data_base64 = null;\n  if (\"data_base64\" in props.item) {\n    data_base64 = props.item[\"data_base64\"];\n  }\n\n  if (data_base64 !== null) {\n    try {\n      data = atob(data_base64);\n    } catch (err) {\n      console.error(err);\n      data = data_base64;\n    }\n  }\n\n  let mediaType = \"unknown\";\n  if (\"datacontenttype\" in props.item) {\n    mediaType = props.item[\"datacontenttype\"]\n  }\n\n  if (mediaType.startsWith(\"application/json\") || mediaType.startsWith(\"text/json\")) {\n    let src = JSON.parse(data);\n\n    return (\n      <JSONPretty data={src}/>\n    );\n  }\n  if (mediaType.startsWith(\"application/xml\") || mediaType.startsWith(\"text/xml\")) {\n    if (data.startsWith(\"\\\"\")) {\n      // Data was part of a JSON string, parse it.\n      data = JSON.parse(data);\n    }\n    return (\n      <div>\n        <XMLViewer xml={data}/>\n      </div>\n    );\n  }\n  return (\n    <pre>\n      {data}\n    </pre>\n  );\n}\n\n\n\nexport default function BasicTable(props) {\n  const classes = useStyles();\n  const rows = props.items;\n  const filter = props.filter;\n\n  function evalFilter(event) {\n    for (let i = 0; i < filter.length; ++i) {\n      if (filter[i].attr in event) {\n        switch (filter[i].match) {\n          case \"Exact\":\n            if (event[filter[i].attr] !== filter[i].value) {\n              return false;\n            }\n            break;\n          case \"Includes\":\n            if (!event[filter[i].attr].includes(filter[i].value)) {\n              return false;\n            }\n            break;\n          case \"Prefix\":\n            if (!event[filter[i].attr].startsWith(filter[i].value)) {\n              return false;\n            }\n            break;\n          case \"Suffix\":\n            if (!event[filter[i].attr].endsWith(filter[i].value)) {\n              return false;\n            }\n            break;\n          default:\n            break;\n        }\n      } else {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  return (\n    <>\n    {filter.map((f) => (<Fade in={true}><p>{f.attr} [{f.match}] {f.value}</p></Fade>))}\n    <TableContainer component={Paper}>\n      <Table className={classes.table}>\n        <TableHead>\n          <TableRow>\n            <TableCell>Attributes</TableCell>\n            <TableCell>Data</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n\n\n\n          {rows.filter(evalFilter).map((row) => (\n            <Fade in={true} mountOnEnter={true} appear={true} timeout={300}>\n            <TableRow hover key={row.id}>\n              <TableCell component=\"th\" scope=\"row\" className={classes.attributes}>\n                <Attributes item={row}/>\n              </TableCell>\n              <TableCell>\n                <Data item={row}/>\n              </TableCell>\n            </TableRow>\n            </Fade>\n            ))}\n\n\n        </TableBody>\n      </Table>\n    </TableContainer>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}