{"ast":null,"code":"import _slicedToArray from\"/Users/jeffreynaef/.config/yarn/global/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/jeffreynaef/.config/yarn/global/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/jeffreynaef/.config/yarn/global/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect,useRef}from\"react\";import clsx from\"clsx\";import{makeStyles}from\"@material-ui/core/styles\";import{CssBaseline,Drawer,Box,AppBar,Toolbar,Typography,Divider,IconButton,Badge,Container,Paper,Link,Fab,SvgIcon}from\"@material-ui/core\";import MenuIcon from\"@material-ui/icons/Menu\";import GitHubIcon from\"@material-ui/icons/GitHub\";import ClearAllIcon from\"@material-ui/icons/ClearAll\";import ChevronLeftIcon from\"@material-ui/icons/ChevronLeft\";import NotificationsIcon from\"@material-ui/icons/Notifications\";import LockIcon from\"@material-ui/icons/Lock\";import{ReactComponent as InjectionLogo}from\"@svgr/webpack?-svgo,+titleProp,+ref!./injection.svg\";import LockOpenIcon from\"@material-ui/icons/LockOpen\";import Table from\"./Table\";import Filters from\"./Filters\";import Injection from\"./Injection\";import CachedIcon from'@material-ui/icons/Cached';function Source(){return/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",color:\"textSecondary\",align:\"center\"},/*#__PURE__*/React.createElement(Link,{color:\"inherit\",href:\"https://github.com/n3wscott/sockeye-react\"},/*#__PURE__*/React.createElement(GitHubIcon,null)));}var drawerWidth=400;var useStyles=makeStyles(function(theme){return{root:{display:\"flex\"},toolbar:{paddingRight:24// keep right padding when drawer closed\n},toolbarIcon:_objectSpread({display:\"flex\",alignItems:\"center\",justifyContent:\"flex-end\",padding:\"0 8px\"},theme.mixins.toolbar),appBar:{zIndex:theme.zIndex.drawer+1,transition:theme.transitions.create([\"width\",\"margin\"],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen})},appBarShift:{marginLeft:drawerWidth,width:\"calc(100% - \".concat(drawerWidth,\"px)\"),transition:theme.transitions.create([\"width\",\"margin\"],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:\"none\"},title:{flexGrow:1},drawerPaper:{position:\"relative\",whiteSpace:\"nowrap\",width:drawerWidth,transition:theme.transitions.create(\"width\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen})},drawerPaperClose:_defineProperty({overflowX:\"hidden\",transition:theme.transitions.create(\"width\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen})},theme.breakpoints.up(\"sm\"),{width:theme.spacing(0)}),drawerPaper2:{paddingTop:theme.spacing(9),position:\"relative\",whiteSpace:\"nowrap\",width:drawerWidth,transition:theme.transitions.create(\"width\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen})},drawerPaperClose2:_defineProperty({overflowX:\"hidden\",transition:theme.transitions.create(\"width\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen})},theme.breakpoints.up(\"sm\"),{width:theme.spacing(0)}),appBarSpacer:theme.mixins.toolbar,content:{flexGrow:1,height:\"100vh\",overflow:\"auto\"},container:{paddingTop:theme.spacing(4),paddingBottom:theme.spacing(4)},paper:{padding:theme.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\"},fixedHeight:{height:240},sockeyeLogo:{height:60,paddingRight:80},injection:{paddingTop:\"20px\",paddingLeft:\"5px\",height:\"2%\",width:\"2%\"},fab:{position:\"absolute\",bottom:theme.spacing(2),right:theme.spacing(2)}};});export default function Dashboard(props){var events=props.items;var destinations=props.destinations;var endRef=useRef(null);var classes=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState(true),_React$useState4=_slicedToArray(_React$useState3,2),scrollLock=_React$useState4[0],setScrollLock=_React$useState4[1];var _React$useState5=React.useState([]),_React$useState6=_slicedToArray(_React$useState5,2),filter=_React$useState6[0],setFilter=_React$useState6[1];var _React$useState7=React.useState(\"test.destination\"),_React$useState8=_slicedToArray(_React$useState7,1),destination=_React$useState8[0];var _React$useState9=React.useState(true),_React$useState10=_slicedToArray(_React$useState9,2),showInjection=_React$useState10[0],setShowInjection=_React$useState10[1];var handleDrawerOpen=function handleDrawerOpen(){setOpen(true);};var handleDrawerClose=function handleDrawerClose(){setOpen(false);};var handleScrollLock=function handleScrollLock(){setScrollLock(!scrollLock);if(scrollLock){endRef.current.scrollIntoView({behavior:\"smooth\"});}};var handleWheel=function handleWheel(e){if(scrollLock){setScrollLock(false);}};var handleShowInjection=function handleShowInjection(event){setShowInjection(!showInjection);};// After render.\nuseEffect(function(){if(scrollLock){endRef.current.scrollIntoView({behavior:\"smooth\"});}});var ScrollLockIcon=LockIcon;if(!scrollLock){ScrollLockIcon=LockOpenIcon;}return/*#__PURE__*/React.createElement(\"div\",{className:classes.root,onWheel:handleWheel},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(SvgIcon,{className:classes.injection},/*#__PURE__*/React.createElement(InjectionLogo,{fill:\"black\",onClick:handleShowInjection})),/*#__PURE__*/React.createElement(Fab,{color:\"primary\",\"aria-label\":\"add\",className:classes.fab,onClick:handleScrollLock},/*#__PURE__*/React.createElement(ScrollLockIcon,null)),/*#__PURE__*/React.createElement(AppBar,{position:\"absolute\",className:clsx(classes.appBar,open&&classes.appBarShift)},/*#__PURE__*/React.createElement(Toolbar,{className:classes.toolbar},/*#__PURE__*/React.createElement(IconButton,{edge:\"start\",color:\"inherit\",\"aria-label\":\"open drawer\",onClick:handleDrawerOpen,className:clsx(classes.menuButton,open&&classes.menuButtonHidden)},/*#__PURE__*/React.createElement(MenuIcon,null)),/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h6\",color:\"inherit\",noWrap:true,className:classes.title},\"Sockeye\"),/*#__PURE__*/React.createElement(IconButton,{color:\"inherit\"},/*#__PURE__*/React.createElement(ClearAllIcon,null)),/*#__PURE__*/React.createElement(IconButton,{color:\"inherit\"},/*#__PURE__*/React.createElement(Badge,{badgeContent:events.length,color:\"secondary\"},/*#__PURE__*/React.createElement(NotificationsIcon,null))),/*#__PURE__*/React.createElement(CachedIcon,{onClick:function onClick(){return props.revert();}}))),/*#__PURE__*/React.createElement(Drawer,{variant:\"permanent\",classes:{paper:clsx(classes.drawerPaper,!open&&classes.drawerPaperClose)},open:open},/*#__PURE__*/React.createElement(\"div\",{className:classes.toolbarIcon},/*#__PURE__*/React.createElement(\"img\",{className:classes.sockeyeLogo,alt:\"\",src:\"/static/assets/sockeye-logo.png\"}),/*#__PURE__*/React.createElement(IconButton,{onClick:handleDrawerClose},/*#__PURE__*/React.createElement(ChevronLeftIcon,null))),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(Filters,{onChange:function onChange(event,newFilter){console.log(newFilter);setFilter(newFilter);}})),/*#__PURE__*/React.createElement(Drawer,{variant:\"permanent\",classes:{paper:clsx(classes.drawerPaper2,!open&&classes.drawerPaperClose2)},hidden:showInjection},/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(Injection,{useStyles:classes.appBar,destination:destination,destinations:destinations})),/*#__PURE__*/React.createElement(\"main\",{className:classes.content},/*#__PURE__*/React.createElement(\"div\",{className:classes.appBarSpacer}),/*#__PURE__*/React.createElement(Container,{maxWidth:\"lg\",className:classes.container},/*#__PURE__*/React.createElement(Paper,null,/*#__PURE__*/React.createElement(Table,{items:events,filter:filter})),/*#__PURE__*/React.createElement(\"div\",{ref:endRef}),/*#__PURE__*/React.createElement(Box,{pt:4},/*#__PURE__*/React.createElement(Source,null)))));}","map":{"version":3,"sources":["/Users/jeffreynaef/go/src/github.com/n3wscott/sockeye/frontend/src/Dashboard.js"],"names":["React","useEffect","useRef","clsx","makeStyles","CssBaseline","Drawer","Box","AppBar","Toolbar","Typography","Divider","IconButton","Badge","Container","Paper","Link","Fab","SvgIcon","MenuIcon","GitHubIcon","ClearAllIcon","ChevronLeftIcon","NotificationsIcon","LockIcon","LockOpenIcon","Table","Filters","Injection","CachedIcon","Source","drawerWidth","useStyles","theme","root","display","toolbar","paddingRight","toolbarIcon","alignItems","justifyContent","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","spacing","drawerPaper2","paddingTop","drawerPaperClose2","appBarSpacer","content","height","overflow","container","paddingBottom","paper","flexDirection","fixedHeight","sockeyeLogo","injection","paddingLeft","fab","bottom","right","Dashboard","props","events","items","destinations","endRef","classes","useState","open","setOpen","scrollLock","setScrollLock","filter","setFilter","destination","showInjection","setShowInjection","handleDrawerOpen","handleDrawerClose","handleScrollLock","current","scrollIntoView","behavior","handleWheel","e","handleShowInjection","event","ScrollLockIcon","length","revert","newFilter","console","log"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  CssBaseline,\n  Drawer,\n  Box,\n  AppBar,\n  Toolbar,\n  Typography,\n  Divider,\n  IconButton,\n  Badge,\n  Container,\n  Paper,\n  Link,\n  Fab,\n  SvgIcon,\n\n} from \"@material-ui/core\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport GitHubIcon from \"@material-ui/icons/GitHub\";\nimport ClearAllIcon from \"@material-ui/icons/ClearAll\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport { ReactComponent as InjectionLogo } from \"./injection.svg\";\nimport LockOpenIcon from \"@material-ui/icons/LockOpen\";\nimport Table from \"./Table\";\nimport Filters from \"./Filters\";\nimport Injection from \"./Injection\"\nimport CachedIcon from '@material-ui/icons/Cached';\n\n\n\nfunction Source() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      <Link color=\"inherit\" href=\"https://github.com/n3wscott/sockeye-react\">\n        <GitHubIcon />\n      </Link>\n    </Typography>\n  );\n}\n\nconst drawerWidth = 400;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: \"0 8px\",\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(0),\n    },\n  },\n  drawerPaper2: {\n    paddingTop: theme.spacing(9),\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose2: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(0),\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: \"100vh\",\n    overflow: \"auto\",\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n  },\n  fixedHeight: {\n    height: 240,\n  },\n  sockeyeLogo: {\n    height: 60,\n    paddingRight: 80,\n  },\n  injection: {\n    paddingTop: \"20px\",\n    paddingLeft: \"5px\",\n    height: \"2%\",\n    width: \"2%\",\n  },\n  fab: {\n    position: \"absolute\",\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n}));\n\nexport default function Dashboard(props) {\n  const events = props.items;\n  const destinations = props.destinations;\n\n  const endRef = useRef(null);\n  const classes = useStyles();\n\n  const [open, setOpen] = React.useState(false);\n  const [scrollLock, setScrollLock] = React.useState(true);\n  const [filter, setFilter] = React.useState([]);\n\n  const [destination] = React.useState(\"test.destination\");\n  const [showInjection, setShowInjection] = React.useState(true);\n\n\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const handleScrollLock = () => {\n    setScrollLock(!scrollLock);\n    if (scrollLock) {\n      endRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n  };\n\n  const handleWheel = (e) => {\n    if (scrollLock) {\n      setScrollLock(false);\n    }\n  };\n\n  const handleShowInjection = (event) => {\n    setShowInjection(!showInjection);\n  };\n\n\n  // After render.\n  useEffect(() => {\n    if (scrollLock) {\n      endRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n  });\n\n  let ScrollLockIcon = LockIcon;\n  if (!scrollLock) {\n    ScrollLockIcon = LockOpenIcon;\n  }\n\n\n  return (\n    <div className={classes.root} onWheel={handleWheel}>\n\n      <CssBaseline />\n      <SvgIcon className={classes.injection} >\n        <InjectionLogo fill=\"black\" onClick={handleShowInjection} />\n      </SvgIcon>\n      <Fab\n        color=\"primary\"\n        aria-label=\"add\"\n        className={classes.fab}\n        onClick={handleScrollLock}\n      >\n        <ScrollLockIcon />\n      </Fab>\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, open && classes.appBarShift)}\n      >\n        \n        <Toolbar className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            className={clsx(\n              classes.menuButton,\n              open && classes.menuButtonHidden\n            )}\n          >\n            \n            <MenuIcon />\n            \n          </IconButton>\n\n          <Typography\n            component=\"h1\"\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            className={classes.title}\n          >\n            Sockeye\n          </Typography>\n          <IconButton color=\"inherit\">\n            <ClearAllIcon />\n          </IconButton>\n          <IconButton color=\"inherit\">\n            <Badge badgeContent={events.length} color=\"secondary\">\n              <NotificationsIcon />\n            </Badge>\n          </IconButton>\n           <CachedIcon onClick={() => props.revert()} />\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        variant=\"permanent\"\n        classes={{\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\n        }}\n        open={open}\n      >\n        <div className={classes.toolbarIcon}>\n          <img\n            className={classes.sockeyeLogo}\n            alt={\"\"}\n            src=\"/static/assets/sockeye-logo.png\"\n          />\n          <IconButton onClick={handleDrawerClose}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <Filters\n          onChange={(event, newFilter) => {\n            console.log(newFilter);\n            setFilter(newFilter);\n          }}\n        />\n      </Drawer>\n      <Drawer\n        variant=\"permanent\"\n        classes={{\n          paper: clsx(classes.drawerPaper2, !open && classes.drawerPaperClose2),\n        }}\n        hidden={showInjection}\n      >\n       \n        <Divider  />\n        <Injection useStyles={classes.appBar} destination={destination} destinations={destinations}/>\n      </Drawer>\n\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n        <Container maxWidth=\"lg\" className={classes.container}>\n          <Paper>\n            <Table items={events} filter={filter} />\n          </Paper>\n          <div ref={endRef} />\n\n          <Box pt={4}>\n            <Source />\n          </Box>\n        </Container>\n      </main>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}