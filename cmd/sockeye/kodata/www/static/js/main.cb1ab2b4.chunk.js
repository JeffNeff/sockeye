(this["webpackJsonpsockeye-react"]=this["webpackJsonpsockeye-react"]||[]).push([[0],{175:function(e,t,a){},178:function(e,t){},180:function(e,t){},212:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),i=a(78),o=a(114),s=a(115),u=a(150),m=a(149),d=a(14),p=a(39),h=a(116),g=a(3),E=a(263),f=a(60),v=a(279),b=a(280),y=a(70),w=a(281),j=a(282),k=a(272),S=a(271),O=a(283),C=a(294),x=a(284),N=a(285),I=a(216),W=a(287),B=a(143),P=a.n(B),D=a(140),L=a.n(D),T=a(144),M=a.n(T),R=a(147),A=a.n(R),J=a(145),_=a.n(J),V=a(141),z=a.n(V);function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},H.apply(this,arguments)}function F(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var G=n.createElement("g",null,n.createElement("g",{id:"Layer_5_42_"},n.createElement("g",null,n.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n.createElement("path",{d:"M372.237,2.05c-2.732-2.733-7.165-2.733-9.899,0l-35.971,35.971c-0.875,0.875-1.531,0.367-1.851,0.107 c-12.455-10.131-26.936-15.445-42.306-15.445c-20.41,0-41.367,9.28-59.379,26.202c-0.238,0.184-0.471,0.377-0.688,0.596 c-0.116,0.116-0.22,0.238-0.325,0.36c-0.58,0.558-1.157,1.123-1.73,1.696l-30.261,30.261c-0.002,0.002-0.004,0.003-0.006,0.005 s-0.004,0.004-0.006,0.006l-32.313,32.313c0,0-0.001,0.001-0.002,0.002s-0.001,0.001-0.002,0.002l-32.312,32.312 c-0.003,0.003-0.006,0.005-0.009,0.008s-0.005,0.006-0.008,0.009l-20.27,20.269l0,0c0,0-3.866,3.866-5.154,5.155 c-2.667,2.667-4.605-0.104-4.605-0.104l-3.516-3.517c-4.408-4.408-10.27-6.836-16.504-6.836s-12.096,2.428-16.505,6.836 c-9.1,9.1-9.1,23.907,0,33.007c0,0,35.358,35.356,47.143,47.144c1.407,1.408-0.219,2.661-0.219,2.661l-52.063,52.062 c0,0-1.438,1.063-2.688-0.187c-4.298-4.297-17.189-17.19-17.189-17.19c-3.718-3.718-8.661-5.765-13.918-5.765 c-5.258,0-10.201,2.047-13.92,5.766c-7.674,7.675-7.674,20.162,0,27.837l54.935,54.934c3.718,3.718,8.661,5.765,13.919,5.765 s10.201-2.047,13.919-5.765c7.674-7.675,7.674-20.163,0-27.837c0,0-12.911-12.91-17.213-17.213 c-1.438-1.438-0.166-2.667-0.166-2.667l52.532-52.53c0,0,0.949-0.995,2.043,0.099c11.823,11.823,47.293,47.292,47.293,47.292 c4.408,4.408,10.27,6.836,16.504,6.836c6.234,0,12.096-2.428,16.504-6.836c9.1-9.101,9.1-23.908,0-33.007l-4.473-4.472 c0,0-1.189-1.608,0.185-2.982c1.455-1.456,5.822-5.822,5.822-5.822l0,0l115.188-115.187c16.22-16.22,26.315-35.575,28.426-54.498 c2.041-18.296-3.171-35.421-15.079-49.986c-0.243-0.297-0.754-0.873,0.184-1.811l35.956-35.957 C374.97,9.216,374.97,4.784,372.237,2.05z M312.851,144.301c0,0-84.6,84.6-112.8,112.8c-2.625,2.625-4.503,0.271-4.503,0.271 l-78.541-78.542c0,0-2.237-2.177,0.388-4.802c2.455-2.456,8.7-8.701,11.427-11.427c1.438-1.437,2.647,0.037,2.647,0.037 l36.241,36.241c1.367,1.367,3.158,2.05,4.95,2.05c1.791,0,3.583-0.684,4.95-2.05c2.733-2.733,2.733-7.166,0-9.899 c0,0-27.567-27.562-36.752-36.752c-0.854-0.854,0.118-1.782,0.118-1.782s15.329-15.328,20.438-20.438 c0.938-0.938,1.866-0.203,1.866-0.203l20.984,20.985c1.367,1.367,3.159,2.05,4.95,2.05s3.583-0.684,4.95-2.05 c2.733-2.733,2.733-7.166,0-9.899l-21.257-21.256c0,0-0.619-0.502,0.1-1.221c5.44-5.44,15.914-15.914,21.219-21.219 c0.594-0.594,1.012-0.076,1.012-0.076l37.114,37.115c1.367,1.367,3.159,2.05,4.95,2.05s3.583-0.684,4.95-2.05 c2.733-2.733,2.733-7.166,0-9.899L205.26,87.342c0,0-0.581-0.601,0.091-1.272c4.78-4.781,17.969-17.969,21.078-21.078 c0.813-0.813,1.27-0.055,1.27-0.055l21.209,21.208c1.367,1.367,3.159,2.05,4.95,2.05s3.583-0.684,4.95-2.05 c2.733-2.733,2.733-7.166,0-9.899l-20.443-20.444c-1.031-1.031-0.276-1.656,0.104-1.961c13.861-11.122,29.082-17.16,43.74-17.16 c14.369,0,27.33,5.676,38.524,16.87C351.316,84.134,335.601,121.551,312.851,144.301z"})))),X=n.createElement("g",null),q=n.createElement("g",null),U=n.createElement("g",null),K=n.createElement("g",null),Q=n.createElement("g",null),Y=n.createElement("g",null),Z=n.createElement("g",null),$=n.createElement("g",null),ee=n.createElement("g",null),te=n.createElement("g",null),ae=n.createElement("g",null),ne=n.createElement("g",null),re=n.createElement("g",null),le=n.createElement("g",null),ce=n.createElement("g",null);function ie(e,t){var a=e.title,r=e.titleId,l=F(e,["title","titleId"]);return n.createElement("svg",H({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 374.292 374.292",style:{enableBackground:"new 0 0 374.292 374.292"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},l),a?n.createElement("title",{id:r},a):null,G,X,q,U,K,Q,Y,Z,$,ee,te,ae,ne,re,le,ce)}var oe=n.forwardRef(ie),se=(a.p,a(142)),ue=a.n(se),me=a(266),de=a(270),pe=a(269),he=a(265),ge=a(267),Ee=a(268),fe=a(117),ve=a.n(fe),be=a(264),ye=(a(175),a(98),a(118)),we=a(5),je=a(295),ke=a(298),Se=a(299),Oe=Object(we.a)({root:{"& label":{color:"green"},"& .MuiInput-underline:before":{borderBottomColor:"lightgray"},"& .MuiInputBase-input":{padding:0,width:"100%"}}})(je.a),Ce=Object(E.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{padding:0,margin:4},list:{"list-style-type":"none","padding-inline-start":0,width:"100%"}}}));function xe(e){var t=Ce(),a=[],n="??",l="unknown";return Object.keys(e.item).forEach((function(t){"data"!==t&&"data_base64"!==t&&"key"!==t&&("specversion"!==t?"datacontenttype"!==t?a.push({key:t,value:e.item[t]}):l=e.item[t]:n=e.item[t])})),a.sort((function(e,t){return e.key<t.key?-1:e.key>t.key?1:0})),r.a.createElement("form",{className:t.root,noValidate:!0},r.a.createElement("ul",{className:t.list},r.a.createElement("li",null,r.a.createElement(ke.a,{variant:"outlined",color:"lightgray",size:"small",avatar:r.a.createElement(Se.a,null,n),label:l})),a.map((function(e){return r.a.createElement("li",null,r.a.createElement(Oe,{fullWidth:!0,className:t.margin,value:e.value,label:e.key}))}))))}var Ne=Object(E.a)({root:{},table:{minWidth:650,paddingTop:0},attributes:{minWidth:300,maxWidth:500}});function Ie(e){var t=e.item.data,a=null;if("data_base64"in e.item&&(a=e.item.data_base64),null!==a)try{t=atob(a)}catch(c){console.error(c),t=a}var n="unknown";if("datacontenttype"in e.item&&(n=e.item.datacontenttype),n.startsWith("application/json")||n.startsWith("text/json")){var l=JSON.parse(t);return r.a.createElement(ve.a,{data:l})}return n.startsWith("application/xml")||n.startsWith("text/xml")?(t.startsWith('"')&&(t=JSON.parse(t)),r.a.createElement("div",null,r.a.createElement(ye.a,{xml:t}))):r.a.createElement("pre",null,t)}function We(e){var t=Ne(),a=e.items,n=e.filter;return r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement(be.a,{in:!0},r.a.createElement("p",null,e.attr," [",e.match,"] ",e.value))})),r.a.createElement(he.a,{component:I.a},r.a.createElement(me.a,{className:t.table},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(pe.a,null,"Attributes"),r.a.createElement(pe.a,null,"Data"))),r.a.createElement(de.a,null,a.filter((function(e){for(var t=0;t<n.length;++t){if(!(n[t].attr in e))return!1;switch(n[t].match){case"Exact":if(e[n[t].attr]!==n[t].value)return!1;break;case"Includes":if(!e[n[t].attr].includes(n[t].value))return!1;break;case"Prefix":if(!e[n[t].attr].startsWith(n[t].value))return!1;break;case"Suffix":if(!e[n[t].attr].endsWith(n[t].value))return!1}}return!0})).map((function(e){return r.a.createElement(be.a,{in:!0,mountOnEnter:!0,appear:!0,timeout:300},r.a.createElement(Ee.a,{hover:!0,key:e.id},r.a.createElement(pe.a,{component:"th",scope:"row",className:t.attributes},r.a.createElement(xe,{item:e})),r.a.createElement(pe.a,null,r.a.createElement(Ie,{item:e}))))}))))))}var Be=a(7),Pe=a(126),De=a.n(Pe),Le=a(291),Te=a(273),Me=a(262),Re=a(274),Ae=a(218),Je=a(261),_e=a(297),Ve=a(288),ze=a(275),He=a(276),Fe=a(277),Ge=a(293),Xe=a(125),qe=a.n(Xe),Ue=Object(E.a)((function(e){return{table:{minWidth:e.spacing(42)},formControl:{margin:e.spacing(1),minWidth:e.spacing(42)},selectEmpty:{marginTop:e.spacing(2)}}})),Ke=["specversion","datacontenttype","dataschema","source","type","subject","time"],Qe=[{id:"attr",label:"Name"},{id:"match",label:"Match"},{id:"value",label:"Value"}];function Ye(e){var t=e.onSelectAllClick,a=e.numSelected,n=e.rowCount;return r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(pe.a,{padding:"checkbox"},r.a.createElement(Le.a,{indeterminate:a>0&&a<n,checked:n>0&&a===n,onChange:t,inputProps:{"aria-label":"select all filters"}})),Qe.map((function(e){return r.a.createElement(pe.a,{key:e.id},e.label)}))))}var Ze=Object(E.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Be.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%",paddingLeft:8}}})),$e=function(e){var t=Ze(),a=e.numSelected;return r.a.createElement(k.a,{className:Object(g.a)(t.root,Object(p.a)({},t.highlight,a>0))},a>0?r.a.createElement(f.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div"},a," selected"):r.a.createElement(f.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},"Filters"),a>0&&r.a.createElement(Te.a,{title:"Delete"},r.a.createElement(S.a,{"aria-label":"delete",onClick:e.onDelete},r.a.createElement(qe.a,null))))};function et(e){var t=Ue(),a=r.a.useState([]),n=Object(d.a)(a,2),l=n[0],c=n[1],o=r.a.useState([]),s=Object(d.a)(o,2),u=s[0],m=s[1],p=r.a.useState(""),h=Object(d.a)(p,2),g=h[0],E=h[1],f=r.a.useState(3),v=Object(d.a)(f,2),b=v[0],y=v[1],w=function(e){return-1!==l.indexOf(e)},j=function(e){if(e.target.checked){var t=P.map((function(e){return e.attr}));c(t)}else c([])},k=r.a.useState(""),S=Object(d.a)(k,2),O=S[0],C=S[1],x=r.a.useState(""),N=Object(d.a)(x,2),W=N[0],B=N[1],P=u;return r.a.createElement(Me.a,null,r.a.createElement(Re.a,null,r.a.createElement($e,{numSelected:l.length,onDelete:function(t){var a=u.filter((function(e){return!w(e.attr)}));m(a),e.onChange(t,a),c([])}})),r.a.createElement(Ae.a,null,u.length>0&&r.a.createElement(he.a,{component:I.a},r.a.createElement(me.a,{className:t.table},r.a.createElement(Ye,{classes:t,numSelected:l.length,onSelectAllClick:j,rowCount:P.length}),r.a.createElement(de.a,null,P.map((function(e,t){var a=w(e.attr),n="enhanced-table-checkbox-".concat(t);return r.a.createElement(Ee.a,{hover:!0,onClick:function(t){return function(e,t){var a=l.indexOf(t),n=[];-1===a?n=n.concat(l,t):0===a?n=n.concat(l.slice(1)):a===l.length-1?n=n.concat(l.slice(0,-1)):a>0&&(n=n.concat(l.slice(0,a),l.slice(a+1))),c(n)}(0,e.attr)},role:"checkbox","aria-checked":a,tabIndex:-1,key:e.attr,selected:a},r.a.createElement(pe.a,{padding:"checkbox"},r.a.createElement(Le.a,{checked:a,inputProps:{"aria-labelledby":n}})),r.a.createElement(pe.a,{component:"th",scope:"row"},e.attr),r.a.createElement(pe.a,null,e.match),r.a.createElement(pe.a,null,e.value))})))))),r.a.createElement(Ae.a,null,r.a.createElement(Ge.a,{freeSolo:!0,options:Ke,value:O,onChange:function(e,t){C(t)},inputValue:W,onInputChange:function(e,t){B(t)},renderInput:function(e){return r.a.createElement(Je.a,{className:t.formControl},r.a.createElement(je.a,Object.assign({id:"input-filter-attribute"},e,{label:"Attribute"})))}})),r.a.createElement(Ae.a,null,r.a.createElement(Je.a,{className:t.formControl},r.a.createElement(_e.a,{id:"demo-simple-select-label"},"Match"),r.a.createElement(Ve.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:b,onChange:function(e){y(e.target.value)}},r.a.createElement(ze.a,{value:0},"Exact"),r.a.createElement(ze.a,{value:1},"Prefix"),r.a.createElement(ze.a,{value:2},"Suffix"),r.a.createElement(ze.a,{value:3},"Includes")))),r.a.createElement(Ae.a,null,r.a.createElement(Je.a,{className:t.formControl},r.a.createElement(je.a,{id:"input-filter-value",label:"Value",value:g,onChange:function(e){E(e.target.value)},type:"search"}))),r.a.createElement(Ae.a,{button:!0,onClick:function(t){var a;switch(b){case 0:a="Exact";break;case 1:a="Prefix";break;case 2:a="Suffix";break;default:a="Includes"}var n=W,r=g;""!==n&&""!==r&&(m((function(l){var c=[].concat(Object(i.a)(l.filter((function(e){return e.key!==n}))),[{key:n,attr:n,match:a,value:r}]);return e.onChange(t,c),c})),y(3),C(""),B(""),E(""))}},r.a.createElement(He.a,null,r.a.createElement(De.a,null)),r.a.createElement(Fe.a,{primary:"Add Filter"})),r.a.createElement(Ae.a,null,r.a.createElement(he.a,{component:I.a},r.a.createElement(me.a,{className:t.table},r.a.createElement(Ye,{classes:t,numSelected:l.length,onSelectAllClick:j,rowCount:P.length})))))}var tt=a(278),at=a(286),nt=a(105);function rt(e){var t=e.destinations,a=e.destination,n=r.a.useState("0123211"),l=Object(d.a)(n,2),c=l[0],i=l[1],o=r.a.useState("test.type"),s=Object(d.a)(o,2),u=s[0],m=s[1],p=r.a.useState("test.source"),h=Object(d.a)(p,2),g=h[0],v=h[1],b=r.a.useState("application/json"),y=Object(d.a)(b,2),w=y[0],j=y[1],k=r.a.useState('{"test":"data"}'),S=Object(d.a)(k,2),O=S[0],C=S[1],x=r.a.useState(a),N=Object(d.a)(x,2),I=N[0],W=N[1],B={width:"380px"},P={origin:"*"},D=Object(E.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Be.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%",paddingLeft:8}}}))();return r.a.createElement(de.a,null,r.a.createElement(f.a,{className:D.title,variant:"h6",id:"tableTitle",component:"div"},"Injection"),"ID:",r.a.createElement(Ee.a,null,r.a.createElement(Je.a,{style:B},r.a.createElement(je.a,{id:"input-injection-ceid",value:c,onChange:function(e){return i(e.target.value)}}))),"Type:",r.a.createElement(Ee.a,null,r.a.createElement(Je.a,{style:B},r.a.createElement(je.a,{id:"input-injection-type",value:u,onChange:function(e){return m(e.target.value)}}))),"Source:",r.a.createElement(Ee.a,null,r.a.createElement(Je.a,{style:B},r.a.createElement(je.a,{id:"input-injection-source",value:g,onChange:function(e){return v(e.target.value)}}))),"Content-Type:",r.a.createElement(Ee.a,null,r.a.createElement(Je.a,{style:B},r.a.createElement(je.a,{id:"input-injection-contenttype",value:w,onChange:function(e){return j(e.target.value)}}))),"Avalible Destinations:",r.a.createElement(Ee.a,null,r.a.createElement(Je.a,{style:B},r.a.createElement(Ve.a,{onChange:function(e){return W(e.target.value)}},t.map((function(e,t){return r.a.createElement(ze.a,{value:e},e)}))))),"Custom Destination:",r.a.createElement(Ee.a,null,r.a.createElement(Je.a,{style:B},r.a.createElement(je.a,{id:"input-injection-add",onChange:function(e){return W(e.target.value)}}))),"Data:",r.a.createElement(Ee.a,null,r.a.createElement(Je.a,{style:B},r.a.createElement(at.a,{id:"input-injection-data",value:O,onChange:function(e){return C(e.target.value)}}))),r.a.createElement(Ee.a,null,r.a.createElement(Je.a,{style:B},r.a.createElement(tt.a,{id:"input-injection-button",label:"Submit",onClick:function(e){nt.post("/inject",{destination:I,data:O,headers:{"Ce-Id":c,"Ce-Specversion":"1.0","Ce-Type":u,"Ce-Source":g,"Content-Type":w}},P).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},"Send"))))}var lt=a(146),ct=a.n(lt);function it(){return r.a.createElement(f.a,{variant:"body2",color:"textSecondary",align:"center"},r.a.createElement(v.a,{color:"inherit",href:"https://github.com/n3wscott/sockeye-react"},r.a.createElement(L.a,null)))}var ot=400,st=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(h.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:ot,width:"calc(100% - ".concat(ot,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:ot,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(p.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},e.breakpoints.up("sm"),{width:e.spacing(0)}),drawerPaper2:{paddingTop:e.spacing(9),position:"relative",whiteSpace:"nowrap",width:ot,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose2:Object(p.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},e.breakpoints.up("sm"),{width:e.spacing(0)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},sockeyeLogo:{height:60,paddingRight:80},injection:{paddingTop:"20px",paddingLeft:"5px",height:"2%",width:"2%"},fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}}));function ut(e){var t=e.items,a=e.destinations,l=Object(n.useRef)(null),c=st(),i=r.a.useState(!1),o=Object(d.a)(i,2),s=o[0],u=o[1],m=r.a.useState(!0),p=Object(d.a)(m,2),h=p[0],E=p[1],v=r.a.useState([]),B=Object(d.a)(v,2),D=B[0],L=B[1],T=r.a.useState("test.destination"),R=Object(d.a)(T,1)[0],J=r.a.useState(!0),V=Object(d.a)(J,2),H=V[0],F=V[1];Object(n.useEffect)((function(){h&&l.current.scrollIntoView({behavior:"smooth"})}));var G=z.a;return h||(G=ue.a),r.a.createElement("div",{className:c.root,onWheel:function(e){h&&E(!1)}},r.a.createElement(b.a,null),r.a.createElement(y.a,{className:c.injection},r.a.createElement(oe,{fill:"black",onClick:function(e){F(!H)}})),r.a.createElement(w.a,{color:"primary","aria-label":"add",className:c.fab,onClick:function(){E(!h),h&&l.current.scrollIntoView({behavior:"smooth"})}},r.a.createElement(G,null)),r.a.createElement(j.a,{position:"absolute",className:Object(g.a)(c.appBar,s&&c.appBarShift)},r.a.createElement(k.a,{className:c.toolbar},r.a.createElement(S.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){u(!0)},className:Object(g.a)(c.menuButton,s&&c.menuButtonHidden)},r.a.createElement(P.a,null)),r.a.createElement(f.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:c.title},"Sockeye"),r.a.createElement(S.a,{color:"inherit"},r.a.createElement(M.a,null)),r.a.createElement(S.a,{color:"inherit"},r.a.createElement(O.a,{badgeContent:t.length,color:"secondary"},r.a.createElement(_.a,null))),r.a.createElement(ct.a,{onClick:function(){return e.revert()}}))),r.a.createElement(C.a,{variant:"permanent",classes:{paper:Object(g.a)(c.drawerPaper,!s&&c.drawerPaperClose)},open:s},r.a.createElement("div",{className:c.toolbarIcon},r.a.createElement("img",{className:c.sockeyeLogo,alt:"",src:"/static/assets/sockeye-logo.png"}),r.a.createElement(S.a,{onClick:function(){u(!1)}},r.a.createElement(A.a,null))),r.a.createElement(x.a,null),r.a.createElement(et,{onChange:function(e,t){console.log(t),L(t)}})),r.a.createElement(C.a,{variant:"permanent",classes:{paper:Object(g.a)(c.drawerPaper2,!s&&c.drawerPaperClose2)},hidden:H},r.a.createElement(x.a,null),r.a.createElement(rt,{useStyles:c.appBar,destination:R,destinations:a})),r.a.createElement("main",{className:c.content},r.a.createElement("div",{className:c.appBarSpacer}),r.a.createElement(N.a,{maxWidth:"lg",className:c.container},r.a.createElement(I.a,null,r.a.createElement(We,{items:t,filter:D})),r.a.createElement("div",{ref:l}),r.a.createElement(W.a,{pt:4},r.a.createElement(it,null)))))}var mt=a(148),dt=a(289),pt=a(292),ht=a(105),gt={origin:"*"},Et=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).fetchServices=function(){ht.post("/queryservices",{},gt).then((function(e){console.log(e.data),n.setState({destinations:e.data})})).catch((function(e){console.log(e)}))},n.state={events:[],destinations:[],revert:!1,open:!1},n}return Object(s.a)(a,[{key:"handleRevert",value:function(e){this.setState({revert:!this.state.revert}),this.setState({events:this.state.events.reverse()})}},{key:"componentDidMount",value:function(){console.log("Protocol: "+window.location.protocol);var e="ws://"+document.location.host+"/ws";"https:"===window.location.protocol&&(e="wss://"+document.location.host+"/ws"),console.log("WS URL: "+e),this.fetchServices();var t=this,a=new mt.a(e);a.onopen=function(){console.log("connected to "+e)},a.onclose=function(e){console.log("connection closed ("+e.code+")")},a.onmessage=function(e){window.dispatchEvent(new Event("cloudevent"));var a=JSON.parse(JSON.parse(e.data));console.log(a),t.onCloudEvent(a)}}},{key:"onCloudEvent",value:function(e){var t={id:e.id};Object.keys(e).forEach((function(a){t[a]="data"!==a?e[a]:JSON.stringify(e[a])}));var a=Object(i.a)(this.state.events);if(this.state.revert){if(null!=t.data)return a.push(t),void this.setState({events:a.reverse()});if(void 0===t.data)return this.showError(),void console.log("More information on the invalid event: ",e)}if(!this.state.revert){if(null!=t.data)return a.push(t),void this.setState({events:a});if(void 0===t.data)return this.showError(),void console.log("More information on the invalid event: ",e)}}},{key:"showError",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){var e=this,t=this.state.events,a=this.state.destinations;return r.a.createElement("div",null,r.a.createElement(ut,{items:t,destinations:a,revert:function(){return e.handleRevert()}}),r.a.createElement(pt.a,{open:this.state.open,autoHideDuration:6e3},r.a.createElement(dt.a,{severity:"error"},"Event received with an invalid or missing data payload. Check the console for more information")))}}]),a}(n.Component);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Et,null)),document.getElementById("root"))},98:function(e,t,a){}},[[212,1,2]]]);
//# sourceMappingURL=main.cb1ab2b4.chunk.js.map