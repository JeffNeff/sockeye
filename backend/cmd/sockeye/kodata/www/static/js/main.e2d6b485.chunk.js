(this["webpackJsonpsockeye-react"]=this["webpackJsonpsockeye-react"]||[]).push([[0],{163:function(e,t,a){},166:function(e,t){},168:function(e,t){},180:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),i=a.n(c),r=a(12),s=a.n(r),o=a(70),l=a(95),j=a(96),d=a(112),u=a(111),b=a(23),h=a(40),p=a(49),x=a(3),O=a(226),m=a(242),f=a(253),g=a(248),v=a(103),y=a.n(v),k=a(244),w=a(235),S=a(51),C=a(246),N=a(234),I=a(245),W=a(247),B=a(183),E=a(241),P=a(106),J=a.n(P),D=a(107),M=a.n(D),V=a(109),A=a.n(V),L=a(108),R=a.n(L),T=a(243),z=a(104),F=a.n(z),H=a(105),_=a.n(H),G=a(229),X=a(233),q=a(232),K=a(228),Q=a(230),U=a(231),Y=(a(149),a(97)),Z=a.n(Y),$=a(227),ee=(a(163),a(88),a(98)),te=a(6),ae=a(254),ne=a(257),ce=a(258),ie=Object(te.a)({root:{"& label":{color:"green"},"& .MuiInput-underline:before":{borderBottomColor:"lightgray"},"& .MuiInputBase-input":{padding:0,width:"100%"}}})(ae.a),re=Object(O.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{padding:0,margin:4},list:{"list-style-type":"none","padding-inline-start":0,width:"100%"}}}));function se(e){var t=re(),a=[],c="??",i="unknown";return Object.keys(e.item).forEach((function(t){"data"!==t&&"data_base64"!==t&&"key"!==t&&("specversion"!==t?"datacontenttype"!==t?a.push({key:t,value:e.item[t]}):i=e.item[t]:c=e.item[t])})),a.sort((function(e,t){return e.key<t.key?-1:e.key>t.key?1:0})),Object(n.jsx)("form",{className:t.root,noValidate:!0,children:Object(n.jsxs)("ul",{className:t.list,children:[Object(n.jsx)("li",{children:Object(n.jsx)(ne.a,{variant:"outlined",color:"lightgray",size:"small",avatar:Object(n.jsx)(ce.a,{children:c}),label:i})}),a.map((function(e){return Object(n.jsx)("li",{children:Object(n.jsx)(ie,{fullWidth:!0,className:t.margin,value:e.value,label:e.key})})}))]})})}var oe=Object(O.a)({root:{},table:{minWidth:650,paddingTop:0},attributes:{minWidth:300,maxWidth:500}});function le(e){var t=e.item.data,a=null;if("data_base64"in e.item&&(a=e.item.data_base64),null!==a)try{t=atob(a)}catch(r){console.error(r),t=a}var c="unknown";if("datacontenttype"in e.item&&(c=e.item.datacontenttype),c.startsWith("application/json")||c.startsWith("text/json")){var i=JSON.parse(t);return Object(n.jsx)(Z.a,{data:i})}return c.startsWith("application/xml")||c.startsWith("text/xml")?(t.startsWith('"')&&(t=JSON.parse(t)),Object(n.jsx)("div",{children:Object(n.jsx)(ee.a,{xml:t})})):Object(n.jsx)("pre",{children:t})}function je(e){var t=oe(),a=e.items,c=e.filter;return Object(n.jsxs)(n.Fragment,{children:[c.map((function(e){return Object(n.jsx)($.a,{in:!0,children:Object(n.jsxs)("p",{children:[e.attr," [",e.match,"] ",e.value]})})})),Object(n.jsx)(K.a,{component:B.a,children:Object(n.jsxs)(G.a,{className:t.table,children:[Object(n.jsx)(Q.a,{children:Object(n.jsxs)(U.a,{children:[Object(n.jsx)(q.a,{children:"Attributes"}),Object(n.jsx)(q.a,{children:"Data"})]})}),Object(n.jsx)(X.a,{children:a.filter((function(e){for(var t=0;t<c.length;++t){if(!(c[t].attr in e))return!1;switch(c[t].match){case"Exact":if(e[c[t].attr]!==c[t].value)return!1;break;case"Includes":if(!e[c[t].attr].includes(c[t].value))return!1;break;case"Prefix":if(!e[c[t].attr].startsWith(c[t].value))return!1;break;case"Suffix":if(!e[c[t].attr].endsWith(c[t].value))return!1}}return!0})).map((function(e){return Object(n.jsx)($.a,{in:!0,mountOnEnter:!0,appear:!0,timeout:300,children:Object(n.jsxs)(U.a,{hover:!0,children:[Object(n.jsx)(q.a,{component:"th",scope:"row",className:t.attributes,children:Object(n.jsx)(se,{item:e})}),Object(n.jsx)(q.a,{children:Object(n.jsx)(le,{item:e})})]},e.id)})}))})]})})]})}var de=a(9),ue=a(185),be=a(239),he=a(240),pe=a(237),xe=a(80),Oe=a.n(xe),me=a(225),fe=a(255),ge=a(238),ve=a(224),ye=a(249),ke=a(252),we=a(250),Se=a(236),Ce=a(102),Ne=a.n(Ce),Ie=Object(O.a)((function(e){return{table:{minWidth:e.spacing(42)},formControl:{margin:e.spacing(1),minWidth:e.spacing(42)},selectEmpty:{marginTop:e.spacing(2)}}})),We=["specversion","datacontenttype","dataschema","source","type","subject","time"],Be=[{id:"attr",label:"Name"},{id:"match",label:"Match"},{id:"value",label:"Value"}];function Ee(e){var t=e.onSelectAllClick,a=e.numSelected,c=e.rowCount;return Object(n.jsx)(Q.a,{children:Object(n.jsxs)(U.a,{children:[Object(n.jsx)(q.a,{padding:"checkbox",children:Object(n.jsx)(we.a,{indeterminate:a>0&&a<c,checked:c>0&&a===c,onChange:t,inputProps:{"aria-label":"select all filters"}})}),Be.map((function(e){return Object(n.jsx)(q.a,{children:e.label},e.id)}))]})})}var Pe=Object(O.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(de.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%",paddingLeft:8}}})),Je=function(e){var t=Pe(),a=e.numSelected;return Object(n.jsxs)(w.a,{className:Object(x.a)(t.root,Object(h.a)({},t.highlight,a>0)),children:[a>0?Object(n.jsxs)(S.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[a," selected"]}):Object(n.jsx)(S.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Filters"}),a>0&&Object(n.jsx)(Se.a,{title:"Delete",children:Object(n.jsx)(N.a,{"aria-label":"delete",onClick:e.onDelete,children:Object(n.jsx)(Ne.a,{})})})]})};function De(e){var t=Ie(),a=i.a.useState([]),c=Object(b.a)(a,2),r=c[0],s=c[1],l=i.a.useState([]),j=Object(b.a)(l,2),d=j[0],u=j[1],h=i.a.useState(""),x=Object(b.a)(h,2),O=x[0],m=x[1],f=i.a.useState(3),g=Object(b.a)(f,2),v=g[0],y=g[1],k=function(e){return-1!==r.indexOf(e)},w=i.a.useState(""),S=Object(b.a)(w,2),C=S[0],N=S[1],I=i.a.useState(""),W=Object(b.a)(I,2),E=W[0],P=W[1],J=d;return Object(n.jsxs)(me.a,{children:[Object(n.jsx)(pe.a,{children:Object(n.jsx)(Je,{numSelected:r.length,onDelete:function(t){var a=d.filter((function(e){return!k(e.attr)}));u(a),e.onChange(t,a),s([])}})}),Object(n.jsx)(ue.a,{children:d.length>0&&Object(n.jsx)(K.a,{component:B.a,children:Object(n.jsxs)(G.a,{className:t.table,children:[Object(n.jsx)(Ee,{classes:t,numSelected:r.length,onSelectAllClick:function(e){if(e.target.checked){var t=J.map((function(e){return e.attr}));s(t)}else s([])},rowCount:J.length}),Object(n.jsx)(X.a,{children:J.map((function(e,t){var a=k(e.attr),c="enhanced-table-checkbox-".concat(t);return Object(n.jsxs)(U.a,{hover:!0,onClick:function(t){return function(e,t){var a=r.indexOf(t),n=[];-1===a?n=n.concat(r,t):0===a?n=n.concat(r.slice(1)):a===r.length-1?n=n.concat(r.slice(0,-1)):a>0&&(n=n.concat(r.slice(0,a),r.slice(a+1))),s(n)}(0,e.attr)},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(n.jsx)(q.a,{padding:"checkbox",children:Object(n.jsx)(we.a,{checked:a,inputProps:{"aria-labelledby":c}})}),Object(n.jsx)(q.a,{component:"th",scope:"row",children:e.attr}),Object(n.jsx)(q.a,{children:e.match}),Object(n.jsx)(q.a,{children:e.value})]},e.attr)}))})]})})}),Object(n.jsx)(ue.a,{children:Object(n.jsx)(ke.a,{freeSolo:!0,options:We,value:C,onChange:function(e,t){N(t)},inputValue:E,onInputChange:function(e,t){P(t)},renderInput:function(e){return Object(n.jsx)(ve.a,{className:t.formControl,children:Object(n.jsx)(ae.a,Object(p.a)(Object(p.a)({id:"input-filter-attribute"},e),{},{label:"Attribute"}))})}})}),Object(n.jsx)(ue.a,{children:Object(n.jsxs)(ve.a,{className:t.formControl,children:[Object(n.jsx)(fe.a,{id:"demo-simple-select-label",children:"Match"}),Object(n.jsxs)(ye.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:v,onChange:function(e){y(e.target.value)},children:[Object(n.jsx)(ge.a,{value:0,children:"Exact"}),Object(n.jsx)(ge.a,{value:1,children:"Prefix"}),Object(n.jsx)(ge.a,{value:2,children:"Suffix"}),Object(n.jsx)(ge.a,{value:3,children:"Includes"})]})]})}),Object(n.jsx)(ue.a,{children:Object(n.jsx)(ve.a,{className:t.formControl,children:Object(n.jsx)(ae.a,{id:"input-filter-value",label:"Value",value:O,onChange:function(e){m(e.target.value)},type:"search"})})}),Object(n.jsxs)(ue.a,{button:!0,onClick:function(t){var a;switch(v){case 0:a="Exact";break;case 1:a="Prefix";break;case 2:a="Suffix";break;case 3:default:a="Includes"}var n=E,c=O;""!==n&&""!==c&&(u((function(i){var r=[].concat(Object(o.a)(i.filter((function(e){return e.key!==n}))),[{key:n,attr:n,match:a,value:c}]);return e.onChange(t,r),r})),y(3),N(""),P(""),m(""))},children:[Object(n.jsx)(be.a,{children:Object(n.jsx)(Oe.a,{})}),Object(n.jsx)(he.a,{primary:"Add Filter"})]})]})}function Me(){return Object(n.jsx)(S.a,{variant:"body2",color:"textSecondary",align:"center",children:Object(n.jsx)(E.a,{color:"inherit",href:"https://github.com/n3wscott/sockeye-react",children:Object(n.jsx)(y.a,{})})})}var Ve=Object(O.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:400,width:"calc(100% - ".concat(400,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:400,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(h.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},e.breakpoints.up("sm"),{width:e.spacing(0)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},sockeyeLogo:{height:60,paddingRight:80},fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}}));function Ae(e){var t=e.items,a=Object(c.useRef)(null),r=Ve(),s=i.a.useState(!1),o=Object(b.a)(s,2),l=o[0],j=o[1],d=i.a.useState(!0),u=Object(b.a)(d,2),h=u[0],p=u[1],O=i.a.useState([]),v=Object(b.a)(O,2),y=v[0],E=v[1];Object(c.useEffect)((function(){h&&a.current.scrollIntoView({behavior:"smooth"})}));var P=F.a;return h||(P=_.a),Object(n.jsxs)("div",{className:r.root,onWheel:function(e){h&&p(!1)},children:[Object(n.jsx)(m.a,{}),Object(n.jsx)(T.a,{color:"primary","aria-label":"add",className:r.fab,onClick:function(){p(!h),h&&a.current.scrollIntoView({behavior:"smooth"})},children:Object(n.jsx)(P,{})}),Object(n.jsx)(k.a,{position:"absolute",className:Object(x.a)(r.appBar,l&&r.appBarShift),children:Object(n.jsxs)(w.a,{className:r.toolbar,children:[Object(n.jsx)(N.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){j(!0)},className:Object(x.a)(r.menuButton,l&&r.menuButtonHidden),children:Object(n.jsx)(J.a,{})}),Object(n.jsx)(S.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:r.title,children:"Sockeye"}),Object(n.jsx)(N.a,{color:"inherit",children:Object(n.jsx)(M.a,{})}),Object(n.jsx)(N.a,{color:"inherit",children:Object(n.jsx)(I.a,{badgeContent:t.length,color:"secondary",children:Object(n.jsx)(R.a,{})})})]})}),Object(n.jsxs)(f.a,{variant:"permanent",classes:{paper:Object(x.a)(r.drawerPaper,!l&&r.drawerPaperClose)},open:l,children:[Object(n.jsxs)("div",{className:r.toolbarIcon,children:[Object(n.jsx)("img",{className:r.sockeyeLogo,alt:"",src:"http://sockeye.default.20.190.7.108.xip.io/static/assets/sockeye-logo.png"}),Object(n.jsx)(N.a,{onClick:function(){j(!1)},children:Object(n.jsx)(A.a,{})})]}),Object(n.jsx)(C.a,{}),Object(n.jsx)(De,{onChange:function(e,t){console.log(t),E(t)}})]}),Object(n.jsxs)("main",{className:r.content,children:[Object(n.jsx)("div",{className:r.appBarSpacer}),Object(n.jsxs)(W.a,{maxWidth:"lg",className:r.container,children:[Object(n.jsx)(B.a,{children:Object(n.jsx)(je,{items:t,filter:y})}),Object(n.jsx)("div",{ref:a}),Object(n.jsx)(g.a,{pt:4,children:Object(n.jsx)(Me,{})})]})]})]})}var Le=a(110),Re=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={events:[]},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){console.log("Protocol: "+window.location.protocol);var e="ws://"+document.location.host+"/ws";"https:"===window.location.protocol&&(e="wss://"+document.location.host+"/ws");var t=this,a=new Le.a(e);a.onopen=function(){console.log("connected to "+e)},a.onclose=function(e){console.log("connection closed ("+e.code+")")},a.onmessage=function(e){window.dispatchEvent(new Event("cloudevent"));var a=JSON.parse(JSON.parse(e.data));console.log(a),t.onCloudEvent(a)}}},{key:"onCloudEvent",value:function(e){var t={id:e.id};Object.keys(e).forEach((function(a){t[a]="data"!==a?e[a]:JSON.stringify(e[a])}));var a=Object(o.a)(this.state.events);a.push(t),this.setState({events:a})}},{key:"render",value:function(){var e=this.state.events;return Object(n.jsx)(Ae,{items:e})}}]),a}(c.Component);s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(Re,{})}),document.getElementById("root"))},88:function(e,t,a){}},[[180,1,2]]]);
//# sourceMappingURL=main.e2d6b485.chunk.js.map